<ng-container *ngIf="form; else loading">
	<form action="" class="jumbotron mx-auto w-75" [formGroup]="form" (ngSubmit)="submit()">
		<h2 class="text-center">Edit post</h2>

		<div class="mb-3">
			<label class="form-label" for="title">Title:</label>
	
			<input class="form-control" id="title" type="text" formControlName="title"
				[ngClass]="{'is-invalid': form.get('title').touched && form.get('title').invalid}">
	
			<div *ngIf="form.get('title').touched && form.get('title').invalid" class="invalid-feedback">
				<small *ngIf="form.get('title').errors.required">Title requred</small>
			</div>
		</div>
	
		<div class="mb-3">
			<label class="form-label" for="text">Content:</label>
	
			<quill-editor formControlName="content"></quill-editor>
	
			<div *ngIf="form.get('content').touched && form.get('content').invalid" class="invalid-feedback">
				<small *ngIf="form.get('content').errors.required">Content requred</small>
			</div>
		</div>

		<button class="btn btn-primary btn-block" type="submit" [disabled]="form.invalid || submitted">Save</button>
	</form>
</ng-container>

<ng-template #loading>
	<div class="text-center">
		<div class="spinner-border text-secondary" role="status">
			<span class="sr-only">Loading...</span>
		</div>
	</div>
</ng-template>
